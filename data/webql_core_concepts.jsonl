{"instruction": "What is WebQL?", "input": "Explain what WebQL is used for", "output": "WebQL is a JSON-based query language for web scraping and data extraction. It uses XPath selectors to extract data from HTML elements on websites. WebQL queries define the target URL, extraction steps, and field mappings in a structured JSON format with special @ keywords like @url, @steps, @xpath, and @fields."}
{"instruction": "What are the core WebQL keywords?", "input": "List the main WebQL syntax elements", "output": "Core WebQL keywords:\n- @url: Target website URL\n- @steps: Array of extraction steps\n- @xpath: XPath selector for HTML elements\n- @fields: Map of field names to XPath expressions\n- @actions: Browser interactions (click, wait, scroll)\n- @pagination: Multi-page navigation\n- @follow: Link following with depth control\n- @name: Optional step identifier\n- @if/@then/@else: Conditional extraction"}
{"instruction": "How does XPath work in WebQL?", "input": "Explain XPath usage in WebQL", "output": "XPath in WebQL selects HTML elements:\n\n**@xpath**: Selects container elements\n- \"//div[@class='product']\" - All divs with class 'product'\n- \"//article\" - All article elements\n\n**@fields XPath**: Extracts data from selected elements\n- \".//h3/text()\" - Text from h3 child element\n- \"./@href\" - href attribute value\n- \".//img/@src\" - Image source URL\n\nThe . prefix means \"relative to current element\"\nThe // means \"anywhere in descendants\""}
{"instruction": "What's the difference between @xpath and @fields?", "input": "Explain @xpath vs @fields in WebQL", "output": "@xpath and @fields serve different purposes:\n\n**@xpath**: Selects container elements (the \"what\")\n- Identifies which HTML elements to process\n- Example: \"//div[@class='product']\" finds all product containers\n\n**@fields**: Extracts specific data from each container (the \"how\")\n- Maps field names to XPath expressions\n- Runs relative to each element found by @xpath\n- Example: {\"name\": \".//h3/text()\", \"price\": \".//span[@class='price']/text()\"}\n\n@xpath finds elements, @fields extracts data from them."}
{"instruction": "How to extract text vs attributes in WebQL?", "input": "Show examples of text and attribute extraction", "output": "WebQL extracts text and attributes differently:\n\n**Text extraction**:\n- \".//h3/text()\" - Direct text content\n- \".//p\" or \"normalize-space(.)\" - All text including nested\n\n**Attribute extraction**:\n- \"./@href\" - Link URL\n- \"./@src\" - Image source\n- \"./@class\" - CSS class\n- \"./@data-id\" - Data attribute\n\nExample:\n{\n  \"@xpath\": \"//a\",\n  \"@fields\": {\n    \"text\": \".//text()\",\n    \"url\": \"./@href\",\n    \"title\": \"./@title\"\n  }\n}"}
{"instruction": "How to handle dynamic content in WebQL?", "input": "Extract data that loads after page load", "output": "WebQL handles dynamic content with @actions:\n\n{\n  \"@url\": \"https://example.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".dynamic-content\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='loaded-item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\"\n      }\n    }\n  ]\n}\n\nCommon @actions: wait, click, scroll, fill"}
{"instruction": "How does WebQL following work?", "input": "Explain @follow for link following", "output": "WebQL @follow navigates to linked pages:\n\n{\n  \"@url\": \"https://example.com/listings\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\"\n      },\n      \"@follow\": {\n        \"@xpath\": \".//a[@class='details']/@href\",\n        \"@max-depth\": 2,\n        \"@steps\": [\n          {\n            \"@xpath\": \"//div[@class='details']\",\n            \"@fields\": {\n              \"description\": \".//p/text()\"\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n\n@follow extracts data from linked pages with depth control."}
{"instruction": "How to run WebQL queries?", "input": "Show the command to execute WebQL", "output": "Run WebQL queries with the dr-web-engine CLI:\n\n**Basic usage**:\ndr-web-engine -q query.json5 -o results.json\n\n**With options**:\ndr-web-engine -q query.json5 -o results.json -l debug --xvfb\n\n**Command flags**:\n- -q, --query: Query file path\n- -o, --output: Output file path  \n- -l, --log-level: Logging level (debug, info, warn, error)\n- --xvfb: Headless mode for servers\n- --timeout: Request timeout\n\n**Alternative command**: drweb -q query.json5 -o results.json"}
{"instruction": "What file formats does WebQL support?", "input": "What query file formats can I use?", "output": "WebQL supports multiple query file formats:\n\n**JSON5** (recommended):\n- Allows comments and trailing commas\n- File extension: .json5\n- Example: query.json5\n\n**JSON**:\n- Standard JSON format\n- File extension: .json\n- Strict syntax, no comments\n\n**YAML**:\n- Human-readable format\n- File extension: .yaml or .yml\n- Uses indentation instead of brackets\n\nJSON5 is preferred for its flexibility with comments and relaxed syntax."}
{"instruction": "How to debug WebQL queries?", "input": "My WebQL query isn't working, how do I debug it?", "output": "Debug WebQL queries with these approaches:\n\n**1. Enable debug logging**:\ndr-web-engine -q query.json5 -o results.json -l debug\n\n**2. Test XPath in browser**:\n- Open browser dev tools (F12)\n- Console: $x(\"//your-xpath-here\")\n- Verify elements are found\n\n**3. Start simple**:\n- Begin with basic @xpath and @fields\n- Add complexity gradually\n- Test each step\n\n**4. Common issues**:\n- Dynamic content: Add @wait actions\n- Empty results: Check XPath selectors\n- Timeouts: Increase @timeout values"}
{"prompt": "Handle timeout errors in WebQL queries\n\nInput: What to do when a page takes too long to load\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://slow-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".content\",\n      \"@timeout\": 30000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"text\": \".//p/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Handle missing elements gracefully\n\nInput: Extract data even when some elements might not exist\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://example.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\",\n        \"price\": \".//span[@class='price']/text() | .//span[@class='cost']/text()\",\n        \"discount\": \".//span[@class='discount']/text()\",\n        \"availability\": \".//span[@class='stock']/text() | 'Available'\"\n      }\n    }\n  ]\n}"}
{"prompt": "Debug XPath selectors in WebQL\n\nInput: How to test and debug XPath expressions\n\nGenerate a WebQL query:", "completion": "# Test XPath in browser console:\n$x(\"//div[@class='product']//span[@class='price']/text()\")\n\n# Or use WebQL with debug logging:\ndrweb -q query.json5 -o results.json -l debug"}
{"prompt": "Handle dynamic content loading\n\nInput: Wait for JavaScript-loaded content before extraction\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://spa-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"network-idle\",\n      \"@timeout\": 15000\n    },\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".loaded-content\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='loaded-content']\",\n      \"@fields\": {\n        \"data\": \".//span/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Handle rate limiting and anti-bot measures\n\nInput: Add delays to avoid getting blocked\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://protected-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"timeout\",\n      \"@timeout\": 3000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"text\": \".//p/text()\"\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next']\",\n    \"@limit\": 5,\n    \"@delay\": 2000\n  }\n}"}
{"prompt": "Handle CAPTCHA detection\n\nInput: Detect and handle CAPTCHA challenges\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://captcha-site.com\",\n  \"@steps\": [\n    {\n      \"@if\": {\"@exists\": \".captcha-container\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//div[@class='captcha-message']\",\n          \"@fields\": {\n            \"message\": \".//text()\",\n            \"captcha_type\": \"@class\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='content']\",\n          \"@fields\": {\n            \"data\": \".//p/text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"prompt": "Handle pagination errors\n\nInput: Continue extraction even if pagination fails\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://paginated-site.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\",\n        \"content\": \".//p/text()\"\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next'] | //a[contains(text(), 'Next')]\",\n    \"@limit\": 10,\n    \"@stop-on-error\": false\n  }\n}"}
{"prompt": "Handle JavaScript errors gracefully\n\nInput: Execute JavaScript with error handling\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://js-heavy-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"javascript\",\n      \"@code\": \"try { window.loadMoreContent(); return 'success'; } catch(e) { return 'error: ' + e.message; }\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"data\": \".//text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Handle empty results\n\nInput: Provide meaningful output when no data is found\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://search-site.com/empty-results\",\n  \"@steps\": [\n    {\n      \"@if\": {\"@min-count\": 1, \"@selector\": \".result\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//div[@class='result']\",\n          \"@fields\": {\n            \"title\": \".//h3/text()\",\n            \"url\": \".//a/@href\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='no-results']\",\n          \"@fields\": {\n            \"message\": \".//text()\",\n            \"suggestions\": \".//a/text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"prompt": "Handle network timeouts in CLI\n\nInput: Run WebQL with network timeout handling\n\nGenerate a WebQL query:", "completion": "timeout 300 drweb -q query.json5 -o results.json || echo \"Extraction timed out after 5 minutes\""}
{"prompt": "Handle memory issues with large datasets\n\nInput: Process large datasets efficiently\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://large-dataset-site.com\",\n  \"@steps\": [\n    {\n      \"@format\": \"jsonl\",\n      \"@output\": \"large_dataset.jsonl\",\n      \"@streaming\": true,\n      \"@batch-size\": 100,\n      \"@step\": {\n        \"@xpath\": \"//div[@class='item']\",\n        \"@fields\": {\n          \"id\": \".//span[@class='id']/text()\",\n          \"title\": \".//h3/text()\"\n        }\n      }\n    }\n  ]\n}"}
{"prompt": "Handle SSL certificate errors\n\nInput: Deal with SSL/TLS certificate issues\n\nGenerate a WebQL query:", "completion": "# Set environment variable to ignore SSL errors (use with caution):\nexport PYTHONHTTPSVERIFY=0\ndrweb -q query.json5 -o results.json"}
{"prompt": "Handle redirect loops\n\nInput: Detect and handle infinite redirects\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://redirect-heavy-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"timeout\",\n      \"@timeout\": 5000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@if\": {\"@contains\": \"redirect\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//body\",\n          \"@fields\": {\n            \"error\": \"'Redirect detected'\",\n            \"url\": \"window.location.href\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='content']\",\n          \"@fields\": {\n            \"data\": \".//text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"prompt": "Handle quota exceeded errors\n\nInput: Manage API quota and rate limits\n\nGenerate a WebQL query:", "completion": "# Check quota before running:\ndrweb plugin info api-extractor\n\n# Run with smaller batch size:\n{\n  \"@url\": \"https://api-heavy-site.com\",\n  \"@steps\": [\n    {\n      \"@api\": {\n        \"@endpoint\": \"/api/data\",\n        \"@timeout\": 30000,\n        \"@retry-attempts\": 3,\n        \"@retry-delay\": 5000\n      }\n    }\n  ]\n}"}

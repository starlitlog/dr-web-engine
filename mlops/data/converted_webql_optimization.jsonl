{"prompt": "Optimize WebQL for large-scale data extraction\n\nInput: Extract data efficiently from thousands of pages\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://large-site.com/catalog\",\n  \"@steps\": [\n    {\n      \"@format\": \"jsonl\",\n      \"@output\": \"large_dataset.jsonl\",\n      \"@streaming\": true,\n      \"@batch-size\": 50,\n      \"@compression\": \"minimal\",\n      \"@step\": {\n        \"@xpath\": \"//div[@class='product']\",\n        \"@fields\": {\n          \"id\": \".//span[@class='id']/text()\",\n          \"title\": \".//h3/text()\",\n          \"price\": \".//span[@class='price']/text()\"\n        }\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next']\",\n    \"@limit\": 1000,\n    \"@delay\": 1000\n  }\n}"}
{"prompt": "Optimize WebQL for memory efficiency\n\nInput: Reduce memory usage during extraction\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://memory-heavy-site.com\",\n  \"@steps\": [\n    {\n      \"@format\": \"jsonl\",\n      \"@streaming\": true,\n      \"@batch-size\": 25,\n      \"@xpath\": \"//article[@class='post']\",\n      \"@fields\": {\n        \"title\": \".//h2/text()\",\n        \"summary\": \"substring(.//p/text(), 1, 200)\"\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize WebQL for speed\n\nInput: Minimize extraction time\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://fast-extraction-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".content\",\n      \"@timeout\": 5000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item'][position() <= 100]\",\n      \"@fields\": {\n        \"id\": \"./@data-id\",\n        \"title\": \".//h3/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize XPath selectors for performance\n\nInput: Write efficient XPath expressions\n\nGenerate a WebQL query:", "completion": "# Efficient XPath patterns:\n\n# Use specific selectors:\n\"//div[@class='product'][1]\"  # Better than \"//div[1]\"\n\n# Use position filters:\n\"//div[@class='item'][position() <= 50]\"  # Limit results\n\n# Use direct attribute access:\n\"./@data-id\"  # Better than \".//text()\" when possible\n\n# Combine conditions efficiently:\n\"//span[@class='price' and not(@class='hidden')]/text()\""}
{"prompt": "Optimize browser resource usage\n\nInput: Reduce browser memory and CPU usage\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://resource-heavy-site.com\",\n  \"@browser-config\": {\n    \"disable-images\": true,\n    \"disable-css\": true,\n    \"disable-fonts\": true,\n    \"disable-plugins\": true,\n    \"user-agent\": \"Mozilla/5.0 (compatible; WebQL-Bot/1.0)\"\n  },\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='text-content']\",\n      \"@fields\": {\n        \"text\": \".//p/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize for concurrent extraction\n\nInput: Run multiple extractions in parallel\n\nGenerate a WebQL query:", "completion": "# Use multiple WebQL instances:\ndrweb -q query1.json5 -o results1.json &\ndrweb -q query2.json5 -o results2.json &\ndrweb -q query3.json5 -o results3.json &\nwait  # Wait for all to complete\n\n# Or use GNU parallel:\nparallel -j 4 drweb -q {} -o results_{/.}.json ::: queries/*.json5"}
{"prompt": "Optimize network requests\n\nInput: Reduce network overhead\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://api-heavy-site.com\",\n  \"@steps\": [\n    {\n      \"@api\": {\n        \"@endpoint\": \"/api/data\",\n        \"@method\": \"GET\",\n        \"@timeout\": 10000,\n        \"@cache-responses\": true,\n        \"@batch-requests\": true,\n        \"@compression\": \"gzip\"\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize for mobile sites\n\nInput: Extract efficiently from mobile-optimized sites\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://m.mobile-site.com\",\n  \"@browser-config\": {\n    \"viewport\": {\"width\": 375, \"height\": 667},\n    \"user-agent\": \"Mozilla/5.0 (iPhone; CPU iPhone OS 14_7_1 like Mac OS X) AppleWebKit/605.1.15\",\n    \"touch-enabled\": true\n  },\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='mobile-content']\",\n      \"@fields\": {\n        \"title\": \".//h2/text()\",\n        \"content\": \".//p/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize JSON-LD extraction\n\nInput: Efficiently extract structured data\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://structured-data-site.com\",\n  \"@steps\": [\n    {\n      \"@json-ld\": {\n        \"@schema\": \"Product\",\n        \"@fields\": [\"name\", \"offers\"],\n        \"@fast-mode\": true,\n        \"@cache-schema\": true\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize for error recovery\n\nInput: Continue extraction despite individual page failures\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://unreliable-site.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\",\n        \"price\": \".//span[@class='price']/text()\"\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next']\",\n    \"@limit\": 100,\n    \"@continue-on-error\": true,\n    \"@max-failures\": 10\n  }\n}"}
{"prompt": "Optimize database storage\n\nInput: Store extracted data efficiently\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://data-site.com\",\n  \"@steps\": [\n    {\n      \"@format\": \"jsonl\",\n      \"@output\": \"compressed_data.jsonl.gz\",\n      \"@compression\": \"gzip\",\n      \"@batch-size\": 1000,\n      \"@deduplicate\": true,\n      \"@step\": {\n        \"@xpath\": \"//div[@class='record']\",\n        \"@fields\": {\n          \"id\": \"./@data-id\",\n          \"timestamp\": \"current-timestamp()\",\n          \"data\": \".//text()\"\n        }\n      }\n    }\n  ]\n}"}
{"prompt": "Optimize for monitoring and alerting\n\nInput: Set up monitoring for extraction jobs\n\nGenerate a WebQL query:", "completion": "# Monitor extraction with logging:\ndrweb -q query.json5 -o results.json -l info --log-file monitoring.log\n\n# Check for errors:\ngrep -i error monitoring.log && echo \"Extraction had errors\" | mail -s \"WebQL Alert\" admin@company.com\n\n# Monitor file size:\nif [ $(stat -c%s results.json) -lt 1000 ]; then\n  echo \"Results file too small, possible extraction failure\" | mail -s \"WebQL Alert\" admin@company.com\nfi"}
{"prompt": "Optimize selector performance\n\nInput: Choose the most efficient selectors\n\nGenerate a WebQL query:", "completion": "# Performance ranking (fastest to slowest):\n\n# 1. Direct attribute access (fastest):\n\"./@id\"\n\"./@data-price\"\n\n# 2. Simple element selection:\n\".//span\"\n\".//div\"\n\n# 3. Class-based selection:\n\".//span[@class='price']\"\n\n# 4. Text content extraction:\n\".//span/text()\"\n\n# 5. Complex XPath (slowest):\n\".//div[contains(@class, 'price') and position() > 1]/text()\""}
{"prompt": "Optimize for CI/CD pipelines\n\nInput: Configure WebQL for automated deployment\n\nGenerate a WebQL query:", "completion": "# Dockerfile optimization:\nFROM python:3.11-slim\nRUN pip install dr-web-engine && playwright install chromium\nCOPY queries/ /app/queries/\nWORKDIR /app\nCMD [\"drweb\", \"-q\", \"queries/main.json5\", \"-o\", \"results.json\", \"--xvfb\"]\n\n# CI/CD script:\n#!/bin/bash\nset -e\ndocker build -t webql-extractor .\ndocker run -v $(pwd)/output:/app/output webql-extractor\naws s3 cp output/results.json s3://data-bucket/$(date +%Y/%m/%d)/"}
{"prompt": "Optimize for cost efficiency\n\nInput: Minimize cloud computing costs\n\nGenerate a WebQL query:", "completion": "# Use spot instances:\naws ec2 run-instances --instance-type t3.medium --spot-price 0.05\n\n# Optimize extraction schedule:\n{\n  \"@url\": \"https://site.com\",\n  \"@steps\": [\n    {\n      \"@if\": {\"@time-range\": \"02:00-06:00\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//div[@class='item']\",\n          \"@fields\": {\"data\": \".//text()\"}\n        }\n      ]\n    }\n  ]\n}"}

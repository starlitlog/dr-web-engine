{"prompt": "Write a WebQL query to handle infinite scroll content\n\nInput: I need to extract posts from a page that loads more content as you scroll down\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://infinite-scroll.com/demo/full-page/\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".post\",\n      \"@timeout\": 5000\n    },\n    {\n      \"@type\": \"scroll\",\n      \"@direction\": \"down\",\n      \"@pixels\": 800\n    },\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"timeout\",\n      \"@timeout\": 2000\n    },\n    {\n      \"@type\": \"scroll\",\n      \"@direction\": \"down\",\n      \"@pixels\": 800\n    },\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"network-idle\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//article[contains(@class, 'post')]\",\n      \"@fields\": {\n        \"title\": \".//h2/text()\",\n        \"content\": \".//p/text()\"\n      }\n    }\n  ]\n}"}
{"prompt": "Create a WebQL query with link following for e-commerce products\n\nInput: Extract product listings and follow links to get detailed information\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://books.toscrape.com/\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//article[@class='product_pod']\",\n      \"@fields\": {\n        \"title\": \".//h3/a/@title\",\n        \"price\": \".//p[@class='price_color']/text()\",\n        \"availability\": \".//p[contains(@class, 'availability')]/text()\",\n        \"rating\": \".//p[contains(@class, 'star-rating')]/@class\",\n        \"image_url\": \".//div[@class='image_container']//img/@src\"\n      },\n      \"@follow\": {\n        \"@xpath\": \".//h3/a/@href\",\n        \"@steps\": [\n          {\n            \"@xpath\": \"//article[@class='product_page']\",\n            \"@fields\": {\n              \"description\": \".//div[@id='product_description']/following-sibling::p/text()\",\n              \"upc\": \".//table//tr[th[text()='UPC']]/td/text()\",\n              \"price_excl_tax\": \".//table//tr[th[contains(text(), 'Price (excl. tax)')]]/td/text()\"\n            }\n          }\n        ]\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//li[@class='next']/a/@href\",\n    \"@limit\": 2\n  }\n}"}
{"prompt": "Write WebQL to extract Reddit posts with comments\n\nInput: Scrape Reddit posts and follow links to extract comments\n\nGenerate a WebQL query:", "completion": "{\n  \"@url\": \"https://old.reddit.com/r/technology\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[contains(@class, 'thing')][@data-type='link']\",\n      \"@fields\": {\n        \"title\": \".//p[@class='title']//a/text()\",\n        \"url\": \".//p[@class='title']//a/@href\",\n        \"author\": \".//p[contains(@class, 'tagline')]//a[contains(@class, 'author')]/text()\",\n        \"subreddit\": \".//p[contains(@class, 'tagline')]//a[contains(@class, 'subreddit')]/text()\",\n        \"score\": \".//div[contains(@class, 'score')]/text()\",\n        \"comments_count\": \".//a[contains(@class, 'comments')]/text()\",\n        \"post_time\": \".//p[contains(@class, 'tagline')]//time/@datetime\"\n      },\n      \"@follow\": {\n        \"@xpath\": \".//a[contains(@class, 'comments')]/@href\",\n        \"@max-depth\": 1,\n        \"@steps\": [\n          {\n            \"@xpath\": \"//div[contains(@class, 'thing')][@data-type='comment']\",\n            \"@fields\": {\n              \"comment_text\": \".//div[contains(@class, 'md')]//p/text()\",\n              \"comment_author\": \".//p[contains(@class, 'tagline')]//a[contains(@class, 'author')]/text()\",\n              \"comment_score\": \".//span[contains(@class, 'score')]/text()\",\n              \"depth\": \"count(ancestor::div[contains(@class, 'child')])\"\n            }\n          }\n        ]\n      }\n    }\n  ]\n}"}

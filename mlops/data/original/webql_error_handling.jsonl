{"instruction": "Handle timeout errors in WebQL queries", "input": "What to do when a page takes too long to load", "output": "{\n  \"@url\": \"https://slow-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".content\",\n      \"@timeout\": 30000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"text\": \".//p/text()\"\n      }\n    }\n  ]\n}"}
{"instruction": "Handle missing elements gracefully", "input": "Extract data even when some elements might not exist", "output": "{\n  \"@url\": \"https://example.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\",\n        \"price\": \".//span[@class='price']/text() | .//span[@class='cost']/text()\",\n        \"discount\": \".//span[@class='discount']/text()\",\n        \"availability\": \".//span[@class='stock']/text() | 'Available'\"\n      }\n    }\n  ]\n}"}
{"instruction": "Debug XPath selectors in WebQL", "input": "How to test and debug XPath expressions", "output": "# Test XPath in browser console:\n$x(\"//div[@class='product']//span[@class='price']/text()\")\n\n# Or use WebQL with debug logging:\ndrweb -q query.json5 -o results.json -l debug"}
{"instruction": "Handle dynamic content loading", "input": "Wait for JavaScript-loaded content before extraction", "output": "{\n  \"@url\": \"https://spa-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"network-idle\",\n      \"@timeout\": 15000\n    },\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"element\",\n      \"@selector\": \".loaded-content\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='loaded-content']\",\n      \"@fields\": {\n        \"data\": \".//span/text()\"\n      }\n    }\n  ]\n}"}
{"instruction": "Handle rate limiting and anti-bot measures", "input": "Add delays to avoid getting blocked", "output": "{\n  \"@url\": \"https://protected-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"timeout\",\n      \"@timeout\": 3000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"text\": \".//p/text()\"\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next']\",\n    \"@limit\": 5,\n    \"@delay\": 2000\n  }\n}"}
{"instruction": "Handle CAPTCHA detection", "input": "Detect and handle CAPTCHA challenges", "output": "{\n  \"@url\": \"https://captcha-site.com\",\n  \"@steps\": [\n    {\n      \"@if\": {\"@exists\": \".captcha-container\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//div[@class='captcha-message']\",\n          \"@fields\": {\n            \"message\": \".//text()\",\n            \"captcha_type\": \"@class\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='content']\",\n          \"@fields\": {\n            \"data\": \".//p/text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"instruction": "Handle pagination errors", "input": "Continue extraction even if pagination fails", "output": "{\n  \"@url\": \"https://paginated-site.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='item']\",\n      \"@fields\": {\n        \"title\": \".//h3/text()\",\n        \"content\": \".//p/text()\"\n      }\n    }\n  ],\n  \"@pagination\": {\n    \"@xpath\": \"//a[@class='next'] | //a[contains(text(), 'Next')]\",\n    \"@limit\": 10,\n    \"@stop-on-error\": false\n  }\n}"}
{"instruction": "Handle JavaScript errors gracefully", "input": "Execute JavaScript with error handling", "output": "{\n  \"@url\": \"https://js-heavy-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"javascript\",\n      \"@code\": \"try { window.loadMoreContent(); return 'success'; } catch(e) { return 'error: ' + e.message; }\",\n      \"@timeout\": 10000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"data\": \".//text()\"\n      }\n    }\n  ]\n}"}
{"instruction": "Handle empty results", "input": "Provide meaningful output when no data is found", "output": "{\n  \"@url\": \"https://search-site.com/empty-results\",\n  \"@steps\": [\n    {\n      \"@if\": {\"@min-count\": 1, \"@selector\": \".result\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//div[@class='result']\",\n          \"@fields\": {\n            \"title\": \".//h3/text()\",\n            \"url\": \".//a/@href\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='no-results']\",\n          \"@fields\": {\n            \"message\": \".//text()\",\n            \"suggestions\": \".//a/text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"instruction": "Handle network timeouts in CLI", "input": "Run WebQL with network timeout handling", "output": "timeout 300 drweb -q query.json5 -o results.json || echo \"Extraction timed out after 5 minutes\""}
{"instruction": "Handle memory issues with large datasets", "input": "Process large datasets efficiently", "output": "{\n  \"@url\": \"https://large-dataset-site.com\",\n  \"@steps\": [\n    {\n      \"@format\": \"jsonl\",\n      \"@output\": \"large_dataset.jsonl\",\n      \"@streaming\": true,\n      \"@batch-size\": 100,\n      \"@step\": {\n        \"@xpath\": \"//div[@class='item']\",\n        \"@fields\": {\n          \"id\": \".//span[@class='id']/text()\",\n          \"title\": \".//h3/text()\"\n        }\n      }\n    }\n  ]\n}"}
{"instruction": "Handle SSL certificate errors", "input": "Deal with SSL/TLS certificate issues", "output": "# Set environment variable to ignore SSL errors (use with caution):\nexport PYTHONHTTPSVERIFY=0\ndrweb -q query.json5 -o results.json"}
{"instruction": "Handle encoding issues", "input": "Deal with character encoding problems", "output": "{\n  \"@url\": \"https://non-utf8-site.com\",\n  \"@steps\": [\n    {\n      \"@xpath\": \"//div[@class='content']\",\n      \"@fields\": {\n        \"text\": \"normalize-space(.//p/text())\",\n        \"clean_text\": \"translate(.//p/text(), '""', '\\\"\\\"')\"\n      }\n    }\n  ]\n}"}
{"instruction": "Handle redirect loops", "input": "Detect and handle infinite redirects", "output": "{\n  \"@url\": \"https://redirect-heavy-site.com\",\n  \"@actions\": [\n    {\n      \"@type\": \"wait\",\n      \"@until\": \"timeout\",\n      \"@timeout\": 5000\n    }\n  ],\n  \"@steps\": [\n    {\n      \"@if\": {\"@contains\": \"redirect\"},\n      \"@then\": [\n        {\n          \"@xpath\": \"//body\",\n          \"@fields\": {\n            \"error\": \"'Redirect detected'\",\n            \"url\": \"window.location.href\"\n          }\n        }\n      ],\n      \"@else\": [\n        {\n          \"@xpath\": \"//div[@class='content']\",\n          \"@fields\": {\n            \"data\": \".//text()\"\n          }\n        }\n      ]\n    }\n  ]\n}"}
{"instruction": "Handle quota exceeded errors", "input": "Manage API quota and rate limits", "output": "# Check quota before running:\ndrweb plugin info api-extractor\n\n# Run with smaller batch size:\n{\n  \"@url\": \"https://api-heavy-site.com\",\n  \"@steps\": [\n    {\n      \"@api\": {\n        \"@endpoint\": \"/api/data\",\n        \"@timeout\": 30000,\n        \"@retry-attempts\": 3,\n        \"@retry-delay\": 5000\n      }\n    }\n  ]\n}"}